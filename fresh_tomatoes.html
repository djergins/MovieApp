
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Fresh Tomatoes!</title>
    <!-- Bootstrap 3 -->
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css"> 
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap-theme.min.css">
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
    <style type="text/css" media="screen">
        body {
            padding-top: 80px;
        }
        #trailer .modal-dialog {
            margin-top: 200px;
            width: 640px;
            height: 480px;
        }
        .hanging-close {
            position: absolute;
            top: -12px;
            right: -12px;
            z-index: 9001;
        }
        #trailer-video {
            width: 100%;
            height: 100%;
        }
        .movie-tile {
            margin-bottom: 20px;
            padding-top: 20px;
        }
        .movie-tile:hover {
            background-color: #EEE;
            cursor: pointer;
        }
        .scale-media {
            padding-bottom: 56.25%;
            position: relative;
        }
        .scale-media iframe {
            border: none;
            height: 100%;
            position: absolute;
            width: 100%;
            left: 0;
            top: 0;
            background-color: white;
        }
    </style>
    <script type="text/javascript" charset="utf-8">
        // Pause the video when the modal is closed
        $(document).on('click', '.hanging-close, .modal-backdrop, .modal', function (event) {
            // Remove the src so the player itself gets removed, as this is the only
            // reliable way to ensure the video stops playing in IE
        $('#trailer').modal('hide');
        $("#trailer-video-container").empty();         
        });
        // Start playing the video whenever the trailer modal is opened
        //populate the modal body with Movie Title, Rating, Cast, and Release date
        //For cast, had to get JS to recognize it as an array and then look up a way to get rid of the square brackets
        //Once I got that work, was able to use a for loop to populate each actor's name in to an <li> so that they would be bulleted in the <ul>
        $(document).on('click', '.movie-tile', function (event) {
            var trailerYouTubeId = $(this).attr('data-trailer-youtube-id')
            var sourceUrl = 'http://www.youtube.com/embed/' + trailerYouTubeId + '?autoplay=1&html5=1';
            var movieTitle = $(this).attr('data-movie-title')
            var releaseDate = $(this).attr('data-release-date')
            var rating = $(this).attr('data-rating')
            var cast = $(this).attr('data-cast')
            var castarray = $.makeArray(cast);
            var actor = castarray.join(",").split(',')
            var text = ""
            for (i = 0; i < actor.length; i++){
              text += "<li>" + actor[i] + "</li>"
            }
            $("#trailer-video-container").empty().append($("<iframe></iframe>", {
              'id': 'trailer-video',
              'type': 'text-html',
              'src': sourceUrl,
              'frameborder': 0
            }));
            $("#movie_details").empty().append($("<h2>" + movieTitle + "</h2>"
            + "<hr>"
            + "<h3>Rating: " + rating + "</h3>"
            + "<h3>Release Date: " + releaseDate + "</h3>"
            + "<h3>Main Cast</h3>"
            + "<ul>" + text + "</ul>"))
        });
        // Animate in the movies when the page loads
        $(document).ready(function () {
          $('.movie-tile').hide().first().show("fast", function showNext() {
            $(this).next("div").show("fast", showNext);
          });
        });
    </script>
</head>

  <body>
  <!-- Trailer Video Modal -->
    <div class="modal" id="trailer">
      <div class="modal-dialog">
        <div class="modal-content">
          <a href="#" class="hanging-close" data-dismiss="modal" aria-hidden="true"> 
            <img src="https://lh5.ggpht.com/v4-628SilF0HtHuHdu5EzxD7WRqOrrTIDi_MhEG6_qkNtUK5Wg7KPkofp_VJoF7RS2LhxwEFCO1ICHZlc-o_=s0#w=24&h=24"/>
          </a>
          <div class="scale-media" id="trailer-video-container">
          </div>
          <div class="modal-body" id="movie_details">
          </div>
        </div>
      </div>
    </div>
    <!-- Main Page Content -->
    <div class="container">
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
          <div class="navbar-header">
            <a class="navbar-brand" href="#">Fresh Tomatoes Movie Trailers</a>
          </div>
        </div>
      </div>
    </div>
    <div class="container">
      
<div class="col-md-6 col-lg-4 movie-tile text-center" 
data-trailer-youtube-id="EXeTwQWrcwY" data-movie-title="The Dark Knight"
data-release-date="July 18, 2008" data-cast="Christian Bale, Heath Ledger, Aaron Eckhart, Michael Caine, Maggie Gyllenhaal, Gary Oldman, Morgan Freeman" 
data-rating="PG-13" data-toggle="modal" data-target="#trailer">
    <img src="https://upload.wikimedia.org/wikipedia/en/8/8a/Dark_Knight.jpg" width="220" height="342">
    <h2>The Dark Knight</h2>
</div>

<div class="col-md-6 col-lg-4 movie-tile text-center" 
data-trailer-youtube-id="tmeOjFno6Do" data-movie-title="Avengers: Age of Ultron"
data-release-date="May 1, 2015" data-cast="Robert Downey Jr., Chris Hemsworth, Mark Ruffalo, Chris Evans, Scarlett Johansson, Jeremy Renner, James Spader, Samuel L. Jackson" 
data-rating="PG-13" data-toggle="modal" data-target="#trailer">
    <img src="http://i2.wp.com/bitcast-a-sm.bitgravity.com/slashfilm/wp/wp-content/images/Avengers-Age-of-Ultron-Poster.jpg" width="220" height="342">
    <h2>Avengers: Age of Ultron</h2>
</div>

<div class="col-md-6 col-lg-4 movie-tile text-center" 
data-trailer-youtube-id="YWwAOutgWBQ" data-movie-title="A Beautiful Mind"
data-release-date="December 21, 2001" data-cast="Russell Crowe, Ed Harris, Jennifer Connelly, Christopher Plummer, Paul Bettany" 
data-rating="PG-13" data-toggle="modal" data-target="#trailer">
    <img src="https://upload.wikimedia.org/wikipedia/en/b/b8/A_Beautiful_Mind_Poster.jpg" width="220" height="342">
    <h2>A Beautiful Mind</h2>
</div>

<div class="col-md-6 col-lg-4 movie-tile text-center" 
data-trailer-youtube-id="B16Bo47KS2g" data-movie-title="Guardians of the Galaxy"
data-release-date="August 1, 2014" data-cast="Chris Pratt, Zoe Saldana, Dave Bautista, Vin Diesel, Bradley Cooper, Lee Pace" 
data-rating="PG-13" data-toggle="modal" data-target="#trailer">
    <img src="http://1.media.dorkly.cvcdn.com/26/95/18b149286ca6f2920e017bd5d2ffcbf5.jpg" width="220" height="342">
    <h2>Guardians of the Galaxy</h2>
</div>

<div class="col-md-6 col-lg-4 movie-tile text-center" 
data-trailer-youtube-id="L9szn1QQfas" data-movie-title="TRON: LEGACY"
data-release-date="December 17, 2010" data-cast="Jeff Bridges, Garrett Hedlund, Olivia Wilde, Bruce Boxleitner" 
data-rating="PG" data-toggle="modal" data-target="#trailer">
    <img src="http://www.impawards.com/2010/posters/tron_legacy_ver11.jpg" width="220" height="342">
    <h2>TRON: LEGACY</h2>
</div>

<div class="col-md-6 col-lg-4 movie-tile text-center" 
data-trailer-youtube-id="7wd5KEaOtm4" data-movie-title="Scott Pilgrim Vs. The World"
data-release-date="August 13, 2010" data-cast="Michael Cera, Mary Elizabeth Winstead, Kieran Culkin, Chris Evans, Anna Kendrick" 
data-rating="PG-13" data-toggle="modal" data-target="#trailer">
    <img src="http://images.moviepostershop.com/scott-pilgrim-vs-the-world-movie-poster-2010-1020561018.jpg" width="220" height="342">
    <h2>Scott Pilgrim Vs. The World</h2>
</div>

    </div>
  </body>
</html>
